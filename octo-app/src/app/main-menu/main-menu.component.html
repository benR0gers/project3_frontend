<div class="container">
	<h1>Drunken Octopus Main Menu</h1>
	<div class="jumbotron">
		<p>Welcome {{user.firstName}} {{user.lastName}}</p>
		<button (click)="createScrumBoard()" [hidden]="!(user.role >= 200)"
			class="btn btn-secondary">Create New Scrum Board</button>
	</div>
	<div *ngIf="!boards">
		<fa name="cog" animation="spin"></fa>
	</div>
	<div class="card mb-4" *ngFor="let b of boards">
		<div class="card-body" style="cursor: pointer"
			(click)="viewBoard(b)">
			<h4 class="card-title">{{b.name}}</h4>
			<div style="float: right" class="btn-group" role="group"
				aria-label="..." (click)="$event.stopPropagation();">
				<button type="button" class="btn btn-secondary"
					(click)="editScrumBoard(b); " [hidden]="!(user.role == 200)">
					<span>Edit</span>
				</button>
				<button type="button" class="btn btn-secondary"
					(click)="getAllUsers(b); ">
					<span>Users</span>
				</button>
				<button type="button" class="btn btn-secondary" (click)="triggerModal(b)" [hidden]="!(user.role == 200)">
					<span>Delete</span>
				</button>
								
			</div>
		</div>
		<!-- Modal -->
		<div class="modal fade" id="deleteModal{{b.id}}" role="dialog">
			<div class="modal-dialog modal-sm">
		
					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Delete {{b.name}}</h4>
						</div>
						<div class="modal-body">
							<p>Are you sure you want to delete this board?</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-danger" data-dismiss="modal" 
								(click)="deleteScrumBoard(b);">Yes</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">No</button>
						</div>
					</div>
		
			</div>
		</div>
		<div class="card-body" style="cursor: pointer"
			(click)="viewBoard(b)">
			<div class="progress">
				<div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" aria-valuenow="60"
					aria-valuemin="0" aria-valuemax="100" [style.width]="percentComplete(b)">{{percentComplete(b)}}</div>
			</div>
		</div>
	</div>
</div>